{{- $pages := where .Site.RegularPages "Type" "in" "post" -}}
{{- $pages = $pages | first 10 -}}
{{- $latestPage := index $pages 0 -}}

{{- printf "<?xml version=\"1.0\" encoding=\"utf-8\" standalone=\"yes\"?>" | safeHTML }}
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
<channel>
<title>{{- .Site.Data.meta.name -}}</title>
<link>{{- .Permalink -}}</link>
<author>
<name>{{- .Site.Data.meta.author -}}</name>
</author>
<language>zh-cn</language>
<description>{{- .Site.Data.meta.bio -}}</description>
<lastBuildDate>{{ .Site.LastChange.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</lastBuildDate>
<copyright>{{- .Site.Data.meta.license -}}</copyright>
<generator>Hugo {{ hugo.Version -}}</generator>
{{- with .OutputFormats.Get "RSS" -}}
{{ printf "<atom:link href=%q rel=\"self\" type=%q />" .Permalink .MediaType | safeHTML }}
{{- end -}}
{{ range $pages }}
<item>
<title>{{ .Title }}</title>
<link>{{ .Permalink }}</link>
<pubDate>{{ .Date.Format "Mon, 02 Jan 2006 15:04:05 -0700" | safeHTML }}</pubDate>
<description>{{ .Summary | html }}</description>
</item>
{{- end }}
</channel>
</rss>
{{- printf "" -}}
